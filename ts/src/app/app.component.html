<!-- Page container -->
<div class="page-container w-[100%] h-[100vh] grid grid-cols-[220px_1fr]">
  <!-- Sidebar menu -->
  <div id="sidebar">
    <div class="bg-gradient-to-b from-[#FFB354] to-[#EE7A3A] text-center py-[11.5px]">
      <span class="text-white font-bold text-[30px]">SLACA 2019</span>
    </div>

    <img
      class="logo w-[220px] h-[258px]"
      src="assets/logo.png"
    />

    <ul class="menu list-none">
      <div class="item">
        <li>Apresentação</li>
      </div>

      <div class="item">
        <li>Comitês</li>
      </div>

      <div class="item">
        <li>Autores</li>
      </div>

      <div class="item">
        <li>Eixos Temáticos</li>
      </div>

      <div class="item active">
        <li>Trabalhos</li>
      </div>

      <div class="item">
        <li>Contatos</li>
      </div>
    </ul>
  </div>

  <!-- Page content -->
  <div class="content grid 2xl:grid-rows-[68px_6fr_181px] xl:grid-rows-[120px_6fr_181px]">
    <!-- Header -->
    <header class="flex flex-row items-center justify-between">
      <div>
        <h3>Anais do Simpósio Latino Americano de Ciências de Alimentos</h3>
        <h1>Anais do 13º Simpósio Latino Americano de Ciência de Alimentos</h1>
        <h3>ISSN: 1234-5678</h3>
      </div>
      
      <div class="container-language flex items-center flex-row justify-center h-[34px] pl-[8px] pr-[8px]">
        <img
          class="w-[22px] h-[22px] mt-[-5px]"
          src="assets/icons/language.svg"
        />

        <select class="select-language">
          <option>PT-BR</option>
          <option>EN-US</option>
        </select>
      </div>

      <div class="flex flex-row items-center">
        <div class="flex flex-col text-right">
          <span class="user-info-text gretting">Bem vindo!</span>
          <span class="user-info-text username">alguem12@galoascience.com</span>
        </div>

        <div class="profile-image-container">
          <span>2</span>
          <img
            class="w-[30px] h-[30px] rounded-full border border-[#F5F5F5] object-cover ml-[5px]"
            src="assets/image.png"
          />
        </div>
      </div>
    </header>

    <!-- Main -->
    <main>
      <div class="flex flex-row gap-[50px]">
        <article>
          <h2>Análise sensorial de preparações funcionais desenvolvidas para escolares entre 09 e 15 anos, do município de Campinas/SP</h2>

          <div class="banner relative p-[34px]">
            <div class="w-[100%] h-[100%] banner-overlay bg-[#8D350680] absolute left-0 top-0 z-0"></div>

            <div class="banner-content relative z-10">
              <h1>Análise sensorial de preparações funcionais desenvolvidas para escolares entre 09 e 15 anos, do município de Campinas/SP</h1>
              
              <div class="banner-footer">
                <img
                  class="w-[75px] h-[75px] rounded-full border border-[#F5F5F5] object-cover ml-[5px]"
                  src="assets/image_banner.png"
                />

                <div>
                  <h1>Beatriz Christiane Melo</h1>
                  <h3>FCA / Universidade Estadual de Campinas</h3>
                </div>
              </div>
            </div>
          </div>
        </article>

        <aside>
          <div class="article-header">
            <div class="article-actions">
              <div class="btn">
                <img src="assets/icons/download.svg" />
                <span>Download</span>
              </div>

              <div class="btn">
                <img src="assets/icons/favorite.svg" />
              </div>

              <div class="btn">
                <img src="assets/icons/doi.svg" />
              </div>
            </div>

            <span class="txt-citation">COMO CITAR ESSE TRABALHO?</span>

            <div class="information-box">
              <div class="information-header">Detalhes</div>
              <div class="information-content max-h-[439px] overflow-y-scroll">
                <span class="txt-detail">Tipo de Apresentação: <strong>Pôster</strong></span>
                <span class="txt-detail">Eixo temático: <strong>Alimentação e saúde (AS)</strong></span>
                <span class="txt-detail">Palavras-chaves: <strong>Alimentos funcionais, alimentação escolar.</strong></span>

                <ul class="list-authors">
                  <li>Autores:</li>
                  <li>Galileo Galilei<sup>1</sup></li>
                  <li>Berta Lange de Morretes<sup>2</sup></li>
                  <li>Isaac Newton<sup>3</sup></li>
                  <li>Cesar Lattes<sup>1</sup></li>
                  <li>Stephen Hawking<sup>4</sup></li>
                </ul>

                <ul class="list-mentions">
                  <li><sup>1</sup>Universidade Estadual de Campinas</li>
                  <li><sup>2</sup>Universidade de São Paulo</li>
                  <li><sup>3</sup>Instituto Nacional de Pesquisas Espaciais</li>
                  <li><sup>4</sup>Universidade Federal do Rio de Janeiro</li>
                </ul>
              </div>
            </div>
          </div>
        </aside>
      </div>

      <div class="information-box mt-[30px]">
        <div class="information-header">Resumo</div>
        <div class="information-content">
          <div class="txt-information collapse-data" id="resume">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus vitae turpis auctor, mollis felis ut, commodo turpis. Phasellus felis mauris, egestas eget cursus et, iaculis quis lacus. Fusce auctor eros sed magna ultricies gravida. Etiam aliquam dictum nisl, vel aliquet enim accumsan sit amet. Donec finibus nisi tellus, ut viverra lorem vestibulum ut. Phasellus condimentum orci id leo condimentum lobortis et non lorem. Sed id nisl metus. Quisque sollicitudin ligula in sapien scelerisque, ac gravida eros vestibulum.

            Fusce vitae luctus dui. Donec id euismod mauris, in volutpat urna. Proin dapibus consequat feugiat. Proin dictum justo arcu, quis vestibulum augue lacinia quis. Sed dignissim dui nulla, ut faucibus mauris sodales id. Aliquam erat volutpat. Maecenas dolor enim, tincidunt id elit non, suscipit interdum turpis. Etiam finibus urna libero, eget interdum eros volutpat ullamcorper. Pellentesque et pretium lorem. Aenean interdum quis diam ac porttitor. Cras nec ipsum pulvinar, pharetra libero non, ornare enim. Etiam in laoreet odio.
            
            Nam eget tristique elit, at fermentum tellus. Mauris scelerisque ligula id eleifend feugiat. Donec eleifend vehicula sem nec dapibus. Integer scelerisque neque dui, in lacinia erat molestie eu. Phasellus maximus dui eget lacus porta tempor. Ut ex nibh, dignissim quis purus semper, efficitur facilisis turpis. Praesent blandit elementum ultricies. Aliquam sit amet enim sit amet nulla pulvinar lobortis consectetur non odio. Phasellus at lacus hendrerit, vulputate nisi sit amet, viverra mauris. Etiam eu scelerisque orci. Quisque sagittis, mi vitae pharetra iaculis, orci elit eleifend massa, eu posuere mauris odio id odio. Morbi eu libero luctus, consectetur lorem vel, interdum sapien. Aenean in porta arcu. Maecenas eu maximus massa.
            
            Praesent velit dolor, dignissim sed quam ac, efficitur porta justo. Pellentesque porta pharetra felis ut hendrerit. Nulla facilisi. Aliquam erat volutpat. Nunc sit amet faucibus quam. Maecenas dapibus luctus dolor at viverra. Duis nec fringilla libero. Duis risus nibh, viverra ac orci nec, iaculis dictum sem. Aliquam at malesuada arcu. Aliquam erat volutpat. Donec varius ipsum purus, ut vehicula purus placerat vitae. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
          </div>
          
          <div *ngIf="!this.showMore; else hiddenBlock" class="btn-show-more" (click)="show()">ver mais</div>
          <ng-template #hiddenBlock>
            <div class="btn-show-more" (click)="hidden()">ver menos</div>
          </ng-template>
        </div>
      </div>

      <div class="information-box mt-[30px]">
        <div class="information-header">Discussões</div>
        <div class="information-content">
          <div *ngIf="!this.creatingTopic; else createFormBlock" class="discussions-header">
            <h3 *ngIf="!this.submitSuccess; else successTitleBlock">Compartilhe suas ideias ou dúvidas com os autores!</h3>

            <ng-template #successTitleBlock>
              <h3>Seu tópico foi enviado com sucesso! :D</h3>
            </ng-template>

            <div *ngIf="!this.submitSuccess;" class="icons-group">
              <img src="assets/icons/icon1.svg" />
              <img src="assets/icons/icon2.svg" />
              <img src="assets/icons/icon3.svg" />
            </div>

            <p *ngIf="!this.submitSuccess; else successBodyBlock">Sabia que o maior estímulo no desenvolvimento científico e cultural é a curiosidade? Deixe seus questionamentos ou sugestões para o autor!</p>

            <ng-template #successBodyBlock>
              <p class="submitMessage">Agradecemos por sua contribuição, uma notificação será enviada ao seu email assim que seu tópico for respondido!</p>

              <div class="other-posts">Descubra outros trabalhos!</div>
            </ng-template>

            <button class="btn-create-topic" (click)="showCreateTopicForm()">
              <img src="assets/icons/create-icon.svg" />
              criar tópico
            </button>
          </div>

          <ng-template #createFormBlock>
            <div class="discussions-header">
              <div class="form-content">
                <h4>Tem uma dúvida ou sugestão? Compartilhe seu feedback com os autores!</h4>

                <form (ngSubmit)="handleSubmit()" [formGroup]="topicForm">
                  <div class="field">
                    <label for="subject">Assunto</label>
                    <input class="subject" type="text" formControlName="subject" id="subject" placeholder="Defina um tópico sucinto para notificar os autores..." />
                  </div>

                  <div class="field">
                    <label for="inside">Conteúdo</label>
                    <textarea formControlName="inside" id="inside" rows="5"></textarea>
                  </div>
                  
                  <div class="field-btn-submit">
                    <button type="submit" class="btn-submit">
                      {{ this.editTopic ? "Editar" : "Enviar" }}
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </ng-template>

          <div class="card-container">
            <div
              *ngFor="let item of items;index as i;"
              [ngClass]="{'answered-topic': item.answered}"
              class="card hidden-comments"
              id="card-{{i}}"
            >
              <div *ngIf="!item.answered" class="card-blur-message">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20.6603 7.33594C20.8426 7.51823 20.9337 7.73958 20.9337 8C20.9337 8.26042 20.8426 8.48177 20.6603 8.66406L9.09778 20.2266C8.91549 20.4089 8.69413 20.5 8.43372 20.5C8.1733 20.5 7.95194 20.4089 7.76965 20.2266L1.20715 13.6641C1.02486 13.4818 0.933716 13.2604 0.933716 13C0.933716 12.7396 1.02486 12.5182 1.20715 12.3359L2.76965 10.7734C2.95194 10.5911 3.1733 10.5 3.43372 10.5C3.69413 10.5 3.91549 10.5911 4.09778 10.7734L8.43372 15.1484L17.8087 5.77344C17.965 5.59115 18.1733 5.5 18.4337 5.5C18.6941 5.5 18.9155 5.59115 19.0978 5.77344L20.6603 7.33594ZM8.00403 11.4766L3.62903 7.10156C3.31653 6.78906 3.31653 6.48958 3.62903 6.20312L5.38684 4.44531C5.51705 4.3151 5.66028 4.25 5.81653 4.25C5.99882 4.25 6.15507 4.3151 6.28528 4.44531L8.43372 6.59375L14.3712 0.695312C14.4754 0.565104 14.6056 0.5 14.7618 0.5C14.9441 0.5 15.1004 0.565104 15.2306 0.695312L16.9884 2.45312C17.3009 2.73958 17.3009 3.03906 16.9884 3.35156L8.8634 11.4766C8.75924 11.6068 8.61601 11.6719 8.43372 11.6719C8.25142 11.6719 8.10819 11.6068 8.00403 11.4766Z" fill="#ED7839"/>
                </svg>
                <h3>Aguardando feedback dos autores</h3>
                <button (click)="handleEditTopic(item)">Editar tópico</button>
              </div>

              <div [ngClass]="{'card-blur': !item.answered}" class="card-content">
                <div class="card-header">
                  <div class="ops-topic-subject" (click)="toggleCommentsContainerDisplay(i)">{{item.subject}}</div>
                  <span>{{item.author.name}}</span>
                </div>
                <div class="card-body">
                  <p>
                    {{item.inside}}
                  </p>

                  <div class="actions-group">
                    <img class="more-info" src="assets/icons/more-info.svg" />
                    <div class="like">
                      <img src="assets/icons/like.svg" />
                    </div>
                    <span>{{item.likes_count}} {{item.likes_count > 1 ? "likes" : "like"}}</span>
                    <span>{{ item.comments.length }} {{ item.comments.length > 1 ? "respostas" : "resposta" }}</span>
                  </div>
                </div>
              </div>

              <div class="comments-container">
                <div *ngFor="let comment of item.comments" [ngClass]="{'comment-highlight': (comment.isPostAuthor || comment.isPostCoAuthor)}" class="comment-item">
                  <div class="flex flex-col flex-1">
                    <div class="comment-header">
                      <h3>{{ comment.author.name }}</h3>

                      <div *ngIf="comment.isPostAuthor || comment.isPostCoAuthor" class="author-data">
                        <h3>{{ comment.isPostAuthor ? "Autor" : "Coautor" }}</h3>
                      </div>
                    </div>

                    <div class="comment-content">
                      {{ comment.comment }}
                    </div>
                  </div>

                  <img *ngIf="comment.isPostAuthor || comment.isPostCoAuthor" src="assets/icons/verification.svg" />
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <div class="logo-footer">
        <img
          class="image-footer"
          src="assets/image_footer.png"
        />

        <div class="btn-more-info">Saiba mais</div>
      </div>

      <div>
        <p>
          <strong>Preservar a memória do evento e apliar o acesso ao conhecimento científico</strong>
          gerado em eventos é a razão de ser da plataforma Galoá Proceedings.
        </p>
        
        <p>
          Os trabalhos publicados aqui têm maior alcance e ficam disponíveis para toda a comunidade científica, mantendo aceso o debate científico fomentado 
          pelos encontros e aumentando o impacto do evento.
        </p>
      </div>
    </footer>
  </div>
</div>